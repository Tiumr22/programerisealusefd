# Класс книги
class Book:
    def __init__(self, title, author):
        self.title = title  # Название книги
        self.author = author  # Автор книги
        self.is_available = True  # Доступность книги для пользователя

    def borrow_book(self):
        if self.is_available:
            self.is_available = False
            print(f"Вы взяли книгу '{self.title}'")
        else:
            print(f"Книга '{self.title}' недоступна для выдачи.")

    def return_book(self):
        self.is_available = True
        print(f"Вы вернули книгу '{self.title}'.")


# Класс пользователя
class User:
    def __init__(self, name, user_id):
        self.name = name  # Имя пользователя
        self.user_id = user_id  # Идентификатор пользователя
        self.borrowed_books = []  # Список взятых книг

    def borrow(self, book):
        if book.is_available:
            book.borrow_book()
            self.borrowed_books.append(book)
        else:
            print(f"{self.name}, эта книга сейчас недоступна.")

    def return_book(self, book):
        if book in self.borrowed_books:
            book.return_book()
            self.borrowed_books.remove(book)
        else:
            print(f"{self.name}, вы не брали эту книгу.")


# Класс библиотеки
class Library:
    def __init__(self):
        self.books = []  # Список всех книг в библиотеке

    def add_book(self, book):
        self.books.append(book)
        print(f"Книга '{book.title}' добавлена в библиотеку.")

    def show_books(self):
        if self.books:
            print("Книги в библиотеке:")
            for book in self.books:
                availability = "доступна" if book.is_available else "недоступна"
                print(f"'{book.title}' - {availability}")
        else:
            print("Библиотека пуста.")


# Пример работы программы
if __name__ == "__main__":
    # Создаем книги
    book1 = Book("1984", "Джордж Оруэлл")
    book2 = Book("Мастер и Маргарита", "Михаил Булгаков")

    # Создаем библиотеку
    library = Library()
    library.add_book(book1)
    library.add_book(book2)

    # Создаем пользователей
    user1 = User("Иван", 1)
    user2 = User("Мария", 2)

    # Показываем доступные книги
    library.show_books()

    # Пользователи берут книги
    user1.borrow(book1)  # Иван берет книгу 1984
    user2.borrow(book2)  # Мария берет книгу Мастер и Маргарита

    # Показываем доступные книги после взятия
    library.show_books()

    # Пользователи возвращают книги
    user1.return_book(book1)
    user2.return_book(book2)

    # Показываем доступные книги после возврата
    library.show_books()
